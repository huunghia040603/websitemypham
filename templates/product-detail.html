{% extends "base.html" %}

{% block title %}Son Mac Ruby Woo - BuddySkincare{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header bg-light py-3">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="/" class="text-decoration-none">Trang chủ</a></li>
                <li class="breadcrumb-item"><a href="/products" class="text-decoration-none">Sản phẩm</a></li>
                <li class="breadcrumb-item"><a href="#" class="text-decoration-none">Son Môi</a></li>
                <li class="breadcrumb-item active" aria-current="page">Son Mac Ruby Woo</li>
            </ol>
        </nav>
    </div>
</section>

<!-- Product Detail -->
<section class="product-detail py-5">
    <div class="container">
        <div class="row">
            <!-- Product Images -->
            <div class="col-lg-6">
                <div class="product-images">
                    <!-- Main Image -->
                    <div class="main-image mb-3">
                        <img src="https://via.placeholder.com/600x600/ff6b6b/ffffff?text=Son+Mac+Ruby+Woo" 
                             alt="Son Mac Ruby Woo" 
                             class="img-fluid rounded" 
                             id="mainImage">
                    </div>
                    
                    <!-- Thumbnail Images -->
                    <div class="thumbnail-images d-flex gap-2">
                        <img src="https://via.placeholder.com/100x100/ff6b6b/ffffff?text=1" 
                             alt="Thumbnail 1" 
                             class="img-thumbnail cursor-pointer" 
                             style="width: 80px; height: 80px; object-fit: cover;"
                             onclick="changeMainImage(this.src)">
                        <img src="https://via.placeholder.com/100x100/ff8e8e/ffffff?text=2" 
                             alt="Thumbnail 2" 
                             class="img-thumbnail cursor-pointer" 
                             style="width: 80px; height: 80px; object-fit: cover;"
                             onclick="changeMainImage(this.src)">
                        <img src="https://via.placeholder.com/100x100/ffb1b1/ffffff?text=3" 
                             alt="Thumbnail 3" 
                             class="img-thumbnail cursor-pointer" 
                             style="width: 80px; height: 80px; object-fit: cover;"
                             onclick="changeMainImage(this.src)">
                        <img src="https://via.placeholder.com/100x100/ffd4d4/ffffff?text=4" 
                             alt="Thumbnail 4" 
                             class="img-thumbnail cursor-pointer" 
                             style="width: 80px; height: 80px; object-fit: cover;"
                             onclick="changeMainImage(this.src)">
                    </div>
                </div>
            </div>
            
            <!-- Product Info -->
            <div class="col-lg-6">
                <div class="product-info">
                    <h1 class="fw-bold mb-2">Son Mac Ruby Woo</h1>
                    <p class="text-muted mb-3">Mac Cosmetics</p>
                    
                    <!-- Rating -->
                    <div class="d-flex align-items-center mb-3">
                        <div class="stars text-warning me-2">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="text-muted me-2">(128 đánh giá)</span>
                        <span class="text-success">Còn hàng</span>
                    </div>
                    
                    <!-- Price -->
                    <div class="price-section mb-4">
                        <div class="d-flex align-items-center">
                            <span class="text-decoration-line-through text-muted fs-5 me-3">850.000đ</span>
                            <span class="text-danger fw-bold fs-2">425.000đ</span>
                            <span class="badge bg-danger ms-2 fs-6">-50%</span>
                        </div>
                        <small class="text-muted">Tiết kiệm: 425.000đ</small>
                    </div>
                    
                    <!-- Product Status -->
                    <div class="product-status mb-4">
                        <div class="alert alert-warning d-flex align-items-center">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <div>
                                <strong>Chỉ còn 5 sản phẩm!</strong> Đặt hàng ngay để không bỏ lỡ.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quantity -->
                    <div class="quantity-section mb-4">
                        <label class="form-label fw-semibold">Số lượng:</label>
                        <div class="d-flex align-items-center">
                            <button class="btn btn-outline-secondary" onclick="changeQuantity(-1)">-</button>
                            <input type="number" class="form-control mx-2" value="1" min="1" max="5" id="quantity" style="width: 80px;">
                            <button class="btn btn-outline-secondary" onclick="changeQuantity(1)">+</button>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons mb-4">
                        <div class="row g-2">
                            <div class="col-8">
                                <button class="btn btn-primary btn-lg w-100" onclick="addToCart()">
                                    <i class="fas fa-shopping-cart me-2"></i>Thêm vào giỏ hàng
                                </button>
                            </div>
                            <div class="col-4">
                                <button class="btn btn-outline-primary btn-lg w-100" onclick="buyNow()">
                                    Mua ngay
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Wishlist -->
                    <div class="wishlist-section mb-4">
                        <button class="btn btn-outline-secondary w-100">
                            <i class="far fa-heart me-2"></i>Thêm vào yêu thích
                        </button>
                    </div>
                    
                    <!-- Product Features -->
                    <div class="product-features mb-4">
                        <h6 class="fw-semibold mb-3">Đặc điểm nổi bật:</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Chính hãng Mac Cosmetics</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Màu sắc bền lâu</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Không khô môi</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Phù hợp mọi tông da</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Product Details Tabs -->
<section class="product-tabs py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <!-- Tab Navigation -->
                <ul class="nav nav-tabs" id="productTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab">
                            Mô tả
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="specifications-tab" data-bs-toggle="tab" data-bs-target="#specifications" type="button" role="tab">
                            Thông số
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">
                            Đánh giá (128)
                        </button>
                    </li>
                </ul>
                
                <!-- Tab Content -->
                <div class="tab-content" id="productTabsContent">
                    <!-- Description Tab -->
                    <div class="tab-pane fade show active" id="description" role="tabpanel">
                        <div class="p-4">
                            <h5 class="fw-bold mb-3">Mô tả sản phẩm</h5>
                            <p>Son Mac Ruby Woo là một trong những màu son huyền thoại của Mac Cosmetics, được yêu thích bởi hàng triệu phụ nữ trên toàn thế giới.</p>
                            
                            <h6 class="fw-semibold mt-4 mb-2">Đặc điểm:</h6>
                            <ul>
                                <li>Màu đỏ ruby sang trọng, phù hợp mọi tông da</li>
                                <li>Kết cấu mượt mà, dễ thoa</li>
                                <li>Độ bền màu cao, lên đến 8 giờ</li>
                                <li>Không gây khô môi</li>
                                <li>Bao bì sang trọng, dễ mang theo</li>
                            </ul>
                            
                            <h6 class="fw-semibold mt-4 mb-2">Cách sử dụng:</h6>
                            <ol>
                                <li>Làm sạch môi trước khi thoa</li>
                                <li>Thoa một lớp mỏng từ giữa môi ra ngoài</li>
                                <li>Có thể thoa thêm lớp thứ hai để tăng độ đậm</li>
                                <li>Dùng giấy thấm để loại bỏ lớp son thừa</li>
                            </ol>
                        </div>
                    </div>
                    
                    <!-- Specifications Tab -->
                    <div class="tab-pane fade" id="specifications" role="tabpanel">
                        <div class="p-4">
                            <h5 class="fw-bold mb-3">Thông số kỹ thuật</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <table class="table table-borderless">
                                        <tr>
                                            <td class="fw-semibold">Thương hiệu:</td>
                                            <td>Mac Cosmetics</td>
                                        </tr>
                                        <tr>
                                            <td class="fw-semibold">Xuất xứ:</td>
                                            <td>Canada</td>
                                        </tr>
                                        <tr>
                                            <td class="fw-semibold">Dung tích:</td>
                                            <td>3g</td>
                                        </tr>
                                        <tr>
                                            <td class="fw-semibold">Hạn sử dụng:</td>
                                            <td>36 tháng</td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="col-md-6">
                                    <table class="table table-borderless">
                                        <tr>
                                            <td class="fw-semibold">Màu sắc:</td>
                                            <td>Ruby Woo (Red)</td>
                                        </tr>
                                        <tr>
                                            <td class="fw-semibold">Kết cấu:</td>
                                            <td>Matte</td>
                                        </tr>
                                        <tr>
                                            <td class="fw-semibold">Độ bền:</td>
                                            <td>8 giờ</td>
                                        </tr>
                                        <tr>
                                            <td class="fw-semibold">Tình trạng:</td>
                                            <td>Mới 100%</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reviews Tab -->
                    <div class="tab-pane fade" id="reviews" role="tabpanel">
                        <div class="p-4">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h5 class="fw-bold mb-0">Đánh giá từ khách hàng</h5>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#reviewModal">
                                    Viết đánh giá
                                </button>
                            </div>
                            
                            <!-- Review Summary -->
                            <div class="review-summary bg-light p-3 rounded mb-4">
                                <div class="row align-items-center">
                                    <div class="col-md-3 text-center">
                                        <div class="overall-rating">
                                            <h3 class="text-warning mb-1">4.5</h3>
                                            <div class="stars text-warning mb-2">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star-half-alt"></i>
                                            </div>
                                            <small class="text-muted">128 đánh giá</small>
                                        </div>
                                    </div>
                                    <div class="col-md-9">
                                        <div class="rating-bars">
                                            <div class="d-flex align-items-center mb-2">
                                                <span class="me-2">5 sao</span>
                                                <div class="progress flex-grow-1 me-2" style="height: 8px;">
                                                    <div class="progress-bar bg-warning" style="width: 70%"></div>
                                                </div>
                                                <span class="text-muted">70%</span>
                                            </div>
                                            <div class="d-flex align-items-center mb-2">
                                                <span class="me-2">4 sao</span>
                                                <div class="progress flex-grow-1 me-2" style="height: 8px;">
                                                    <div class="progress-bar bg-warning" style="width: 20%"></div>
                                                </div>
                                                <span class="text-muted">20%</span>
                                            </div>
                                            <div class="d-flex align-items-center mb-2">
                                                <span class="me-2">3 sao</span>
                                                <div class="progress flex-grow-1 me-2" style="height: 8px;">
                                                    <div class="progress-bar bg-warning" style="width: 8%"></div>
                                                </div>
                                                <span class="text-muted">8%</span>
                                            </div>
                                            <div class="d-flex align-items-center mb-2">
                                                <span class="me-2">2 sao</span>
                                                <div class="progress flex-grow-1 me-2" style="height: 8px;">
                                                    <div class="progress-bar bg-warning" style="width: 2%"></div>
                                                </div>
                                                <span class="text-muted">2%</span>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <span class="me-2">1 sao</span>
                                                <div class="progress flex-grow-1 me-2" style="height: 8px;">
                                                    <div class="progress-bar bg-warning" style="width: 0%"></div>
                                                </div>
                                                <span class="text-muted">0%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Individual Reviews -->
                            <div class="reviews-list">
                                <!-- Review 1 -->
                                <div class="review-item border-bottom pb-3 mb-3">
                                    <div class="d-flex align-items-start">
                                        <img src="https://via.placeholder.com/50x50/ff6b6b/ffffff?text=KH" alt="User" class="rounded-circle me-3">
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <div>
                                                    <h6 class="fw-bold mb-1">Nguyễn Thị Anh</h6>
                                                    <div class="stars text-warning mb-1">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                </div>
                                                <small class="text-muted">2 ngày trước</small>
                                            </div>
                                            <p class="mb-2">Màu son đẹp quá! Ruby Woo thực sự là màu son huyền thoại. Màu đỏ ruby sang trọng, phù hợp mọi tông da. Độ bền màu rất tốt, ăn uống vẫn giữ được màu.</p>
                                            <div class="review-images d-flex gap-2">
                                                <img src="https://via.placeholder.com/80x80/ff6b6b/ffffff?text=IMG" alt="Review image" class="rounded" style="width: 80px; height: 80px; object-fit: cover;">
                                                <img src="https://via.placeholder.com/80x80/ff8e8e/ffffff?text=IMG" alt="Review image" class="rounded" style="width: 80px; height: 80px; object-fit: cover;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Review 2 -->
                                <div class="review-item border-bottom pb-3 mb-3">
                                    <div class="d-flex align-items-start">
                                        <img src="https://via.placeholder.com/50x50/4ecdc4/ffffff?text=KH" alt="User" class="rounded-circle me-3">
                                        <div class="flex-grow-1">
                                            <div class="d-flex justify-content-between align-items-start mb-2">
                                                <div>
                                                    <h6 class="fw-bold mb-1">Trần Văn Bình</h6>
                                                    <div class="stars text-warning mb-1">
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="fas fa-star"></i>
                                                        <i class="far fa-star"></i>
                                                    </div>
                                                </div>
                                                <small class="text-muted">1 tuần trước</small>
                                            </div>
                                            <p class="mb-2">Mua tặng vợ, cô ấy rất thích! Màu son đẹp và sang trọng. Giao hàng nhanh, đóng gói cẩn thận. Sẽ mua lại!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Related Products -->
<section class="related-products py-5">
    <div class="container">
        <h3 class="fw-bold text-center mb-5">Sản phẩm liên quan</h3>
        <div class="row g-4">
            <!-- Related Product 1 -->
            <div class="col-lg-3 col-md-6">
                <div class="product-card card h-100 border-0 shadow-sm">
                    <div class="position-relative">
                        <img src="https://via.placeholder.com/300x300/ff8e8e/ffffff?text=Son+Mac+2" class="card-img-top" alt="Son Mac">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-2">-40%</div>
                    </div>
                    <div class="card-body">
                        <h6 class="card-title">Son Mac Velvet Teddy</h6>
                        <p class="text-muted small">Mac Cosmetics</p>
                        <div class="d-flex align-items-center mb-2">
                            <span class="text-decoration-line-through text-muted me-2">750.000đ</span>
                            <span class="text-danger fw-bold fs-5">450.000đ</span>
                        </div>
                        <button class="btn btn-primary w-100">Thêm vào giỏ</button>
                    </div>
                </div>
            </div>
            
            <!-- Related Product 2 -->
            <div class="col-lg-3 col-md-6">
                <div class="product-card card h-100 border-0 shadow-sm">
                    <div class="position-relative">
                        <img src="https://via.placeholder.com/300x300/ffb1b1/ffffff?text=Son+Mac+3" class="card-img-top" alt="Son Mac">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-2">-35%</div>
                    </div>
                    <div class="card-body">
                        <h6 class="card-title">Son Mac Chili</h6>
                        <p class="text-muted small">Mac Cosmetics</p>
                        <div class="d-flex align-items-center mb-2">
                            <span class="text-decoration-line-through text-muted me-2">800.000đ</span>
                            <span class="text-danger fw-bold fs-5">520.000đ</span>
                        </div>
                        <button class="btn btn-primary w-100">Thêm vào giỏ</button>
                    </div>
                </div>
            </div>
            
            <!-- Related Product 3 -->
            <div class="col-lg-3 col-md-6">
                <div class="product-card card h-100 border-0 shadow-sm">
                    <div class="position-relative">
                        <img src="https://via.placeholder.com/300x300/ffd4d4/ffffff?text=Son+Mac+4" class="card-img-top" alt="Son Mac">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-2">-45%</div>
                    </div>
                    <div class="card-body">
                        <h6 class="card-title">Son Mac Whirl</h6>
                        <p class="text-muted small">Mac Cosmetics</p>
                        <div class="d-flex align-items-center mb-2">
                            <span class="text-decoration-line-through text-muted me-2">700.000đ</span>
                            <span class="text-danger fw-bold fs-5">385.000đ</span>
                        </div>
                        <button class="btn btn-primary w-100">Thêm vào giỏ</button>
                    </div>
                </div>
            </div>
            
            <!-- Related Product 4 -->
            <div class="col-lg-3 col-md-6">
                <div class="product-card card h-100 border-0 shadow-sm">
                    <div class="position-relative">
                        <img src="https://via.placeholder.com/300x300/ffe6e6/ffffff?text=Son+Mac+5" class="card-img-top" alt="Son Mac">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-2">-30%</div>
                    </div>
                    <div class="card-body">
                        <h6 class="card-title">Son Mac Mehr</h6>
                        <p class="text-muted small">Mac Cosmetics</p>
                        <div class="d-flex align-items-center mb-2">
                            <span class="text-decoration-line-through text-muted me-2">650.000đ</span>
                            <span class="text-danger fw-bold fs-5">455.000đ</span>
                        </div>
                        <button class="btn btn-primary w-100">Thêm vào giỏ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Review Modal -->
<div class="modal fade" id="reviewModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Viết đánh giá</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Đánh giá của bạn:</label>
                        <div class="stars-input">
                            <i class="far fa-star" data-rating="1"></i>
                            <i class="far fa-star" data-rating="2"></i>
                            <i class="far fa-star" data-rating="3"></i>
                            <i class="far fa-star" data-rating="4"></i>
                            <i class="far fa-star" data-rating="5"></i>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Tiêu đề:</label>
                        <input type="text" class="form-control" placeholder="Tóm tắt đánh giá của bạn">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Nội dung:</label>
                        <textarea class="form-control" rows="4" placeholder="Chia sẻ trải nghiệm của bạn về sản phẩm"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Hình ảnh (tùy chọn):</label>
                        <input type="file" class="form-control" multiple accept="image/*">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-primary">Gửi đánh giá</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Change main image
function changeMainImage(src) {
    document.getElementById('mainImage').src = src;
}

// Change quantity
function changeQuantity(delta) {
    const quantityInput = document.getElementById('quantity');
    let currentValue = parseInt(quantityInput.value);
    let newValue = currentValue + delta;
    
    if (newValue >= 1 && newValue <= 5) {
        quantityInput.value = newValue;
    }
}

// Add to cart
function addToCart() {
    const quantity = document.getElementById('quantity').value;
    // Simulate adding to cart
    alert(`Đã thêm ${quantity} sản phẩm vào giỏ hàng!`);
}

// Buy now
function buyNow() {
    const quantity = document.getElementById('quantity').value;
    // Redirect to checkout
    alert(`Chuyển đến trang thanh toán với ${quantity} sản phẩm!`);
}

// Star rating for review modal
document.addEventListener('DOMContentLoaded', function() {
    const stars = document.querySelectorAll('.stars-input i');
    stars.forEach(star => {
        star.addEventListener('click', function() {
            const rating = this.dataset.rating;
            stars.forEach((s, index) => {
                if (index < rating) {
                    s.classList.remove('far');
                    s.classList.add('fas');
                } else {
                    s.classList.remove('fas');
                    s.classList.add('far');
                }
            });
        });
    });
});
</script>
{% endblock %} 