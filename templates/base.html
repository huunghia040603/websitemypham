<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/static/image/logo.png">
    <!-- CSRF Token for API calls -->
    <meta name="csrf-token" content="{{ csrf_token }}">

    <title>{% block title %}Mỹ Phẩm Thanh Lý - Giá Tốt Nhất{% endblock %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block description %}Mỹ phẩm thanh lý chính hãng với giá tốt nhất. Sản phẩm mới 100% và đã sử dụng chất lượng cao. Giao hàng nhanh, đảm bảo uy tín.{% endblock %}">
    <meta name="keywords" content="{% block keywords %}mỹ phẩm thanh lý, mỹ phẩm giá rẻ, mỹ phẩm chính hãng, kem dưỡng da, son môi, trang điểm, mỹ phẩm online, mỹ phẩm giảm giá, mỹ phẩm sale, mỹ phẩm thanh lý tphcm, mỹ phẩm thanh lý hà nội, mỹ phẩm thanh lý giá rẻ, mỹ phẩm thanh lý chính hãng, mỹ phẩm thanh lý online, mỹ phẩm thanh lý uy tín, mỹ phẩm thanh lý chất lượng, mỹ phẩm thanh lý giá tốt, mỹ phẩm thanh lý giao hàng nhanh, mỹ phẩm thanh lý đảm bảo, mỹ phẩm thanh lý tin cậy{% endblock %}">
    <meta name="author" content="BuddySkincare">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="language" content="Vietnamese">
    <meta name="geo.region" content="VN">
    <meta name="geo.placename" content="Vietnam">
    <meta name="distribution" content="global">
    <meta name="rating" content="general">
    <meta name="revisit-after" content="1 days">
    <meta name="classification" content="Business">
    <meta name="category" content="Beauty and Cosmetics">
    <meta name="coverage" content="worldwide">
    <meta name="target" content="all">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Google Search Console Verification -->
    <!-- Thay YOUR_VERIFICATION_CODE bằng mã verification từ Google Search Console -->
    <meta name="google-site-verification" content="YOUR_VERIFICATION_CODE" />
    
    <!-- Google Analytics 4 -->
    <!-- Thay G-XXXXXXXXXX bằng Measurement ID từ Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{% block canonical_url %}{{ request.url }}{% endblock %}">
    
    <!-- Alternate Language Versions -->
    <link rel="alternate" hreflang="vi" href="https://buddyskincare.vn/">
    <link rel="alternate" hreflang="x-default" href="https://buddyskincare.vn/">
    
    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "BuddySkincare",
        "alternateName": "Mỹ Phẩm Thanh Lý BuddySkincare",
        "url": "https://buddyskincare.vn",
        "logo": "https://buddyskincare.vn/static/image/logo.png",
        "description": "Mỹ phẩm thanh lý chính hãng với giá tốt nhất. Sản phẩm mới 100% và đã sử dụng chất lượng cao. Giao hàng nhanh, đảm bảo uy tín.",
        "foundingDate": "2024",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "VN",
            "addressRegion": "Vietnam"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+84-xxx-xxx-xxx",
            "contactType": "customer service",
            "availableLanguage": "Vietnamese"
        },
        "sameAs": [
            "https://www.facebook.com/buddyskincare",
            "https://www.instagram.com/buddyskincare"
        ],
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://buddyskincare.vn/products?search={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    
    <!-- Open Graph Meta Tags (Facebook, Messenger, Zalo) -->
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:title" content="{% block og_title %}Mỹ Phẩm Thanh Lý - Giá Tốt Nhất{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Mỹ phẩm thanh lý chính hãng với giá tốt nhất. Sản phẩm mới 100% và đã sử dụng chất lượng cao. Giao hàng nhanh, đảm bảo uy tín.{% endblock %}">
    <meta property="og:url" content="{% block og_url %}{{ request.url }}{% endblock %}">
    <meta property="og:image" content="{% block og_image %}https://buddyskincare.vn/static/image/sukien/banner01.png{% endblock %}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="{% block og_image_alt %}BuddySkincare - Mỹ phẩm thanh lý chính hãng{% endblock %}">
    <meta property="og:site_name" content="BuddySkincare">
    <meta property="og:locale" content="vi_VN">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}Mỹ Phẩm Thanh Lý - Giá Tốt Nhất{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Mỹ phẩm thanh lý chính hãng với giá tốt nhất. Sản phẩm mới 100% và đã sử dụng chất lượng cao. Giao hàng nhanh, đảm bảo uy tín.{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}https://buddyskincare.vn/static/image/sukien/banner01.png{% endblock %}">
    <meta name="twitter:image:alt" content="{% block twitter_image_alt %}BuddySkincare - Mỹ phẩm thanh lý chính hãng{% endblock %}">
    
    <!-- Additional Meta Tags for Better Sharing -->
    <meta name="theme-color" content="#e91e63">
    <meta name="msapplication-TileColor" content="#e91e63">
    <meta name="apple-mobile-web-app-title" content="BuddySkincare">
    <meta name="application-name" content="BuddySkincare">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JH1ST8ZFVK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JH1ST8ZFVK');
    </script>
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    {% include 'header.html' %}
    
    <main>
        {% block content %}{% endblock %}
    </main>
    
    {% include 'footer.html' %}
    
    {% block extra_modals %}{% endblock %}

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content login-modal-content">
                <div class="modal-header border-0 pb-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body px-4 pb-4">
                    <div id="loginFormContainer">
                        <div class="text-center mb-4">
                            <img src="{{ url_for('static', filename='image/logo.png') }}" alt="BuddySkincare Logo" class="modal-logo mb-3" style="max-height: 50px; width: auto;">
                            <h4 class="fw-bold text-dark mb-2">Đăng nhập</h4>
                            <p class="text-muted">Rất vui được gặp lại bạn</p>
                        </div>
                        
                        <form id="loginForm">
                           <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-phone-alt text-muted"></i>
                                    </span>
                                    <input type="tel" class="form-control border-start-0" id="modalPhone" placeholder="Nhập số điện thoại của bạn" required>
                                </div>
                            </div>

                            <div class="mb-4">
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-lock text-muted"></i>
                                    </span>
                                    <div class="position-relative flex-grow-1">
                                        <input type="password" class="form-control border-start-0 pe-5" id="modalPassword" placeholder="Nhập mật khẩu" required>
                                        <button class="btn btn-link p-0 border-0 text-muted position-absolute top-50 end-0 translate-middle-y me-2" type="button" data-toggle-password="#modalPassword"><i class="far fa-eye"></i></button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-primary btn-lg fw-semibold" style="font-size: 1.0rem;">
                                    Đăng nhập
                                </button>
                            </div>
                            
                            <div class="text-center mb-3">
                                <div class="divider">
                                    <span class="divider-text">hoặc</span>
                                </div>
                            </div>
                            
                            <div class="d-grid mb-3">
                                <div id="google-login-container" class="google-btn-wrapper">
                                    <div id="googleCustomContainer"></div>
                                </div>
                            </div>
                            
                            <div class="text-center">
                                <a href="#" id="forgotPasswordTrigger" class="text-decoration-none text-muted me-3">Quên mật khẩu?</a>
                                <a href="#" id="openRegisterTrigger" class="text-decoration-none text-primary">Đăng ký</a>
                            </div>
                        </form>
                    </div>

                    <div id="forgotPasswordFormContainer" style="display:none;">
                        <div class="text-center mb-4">
                            <img src="{{ url_for('static', filename='image/logo.png') }}" alt="BuddySkincare Logo" class="modal-logo mb-3" style="max-height: 50px; width: auto;">
                            <h4 class="fw-bold text-dark mb-2">Quên mật khẩu</h4>
                            <p class="text-muted">Nhập email của bạn để nhận mã đặt lại mật khẩu</p>
                        </div>
                        <form id="forgotForm">
                            <div class="mb-3">
                                <label for="modalEmail" class="form-label fw-semibold">Email</label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-envelope text-muted"></i>
                                    </span>
                                    <input type="email" class="form-control border-start-0" id="modalEmail" placeholder="Nhập email của bạn để nhận hoá đơn" required>
                                </div>
                            </div>
                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-primary btn-lg fw-semibold" style="font-size: 1.0rem;">
                                    Gửi mã
                                </button>
                            </div>
                            <div class="text-center">
                                <a href="#" class="text-decoration-none text-primary" id="backToLoginTrigger">Quay lại đăng nhập</a>
                            </div>
                        </form>
                    </div>

                    <div id="registerFormContainer" style="display:none;">
                        <div class="text-center mb-4">
                            <img src="{{ url_for('static', filename='image/logo.png') }}" alt="BuddySkincare Logo" class="modal-logo mb-3" style="max-height: 50px; width: auto;">
                            <h4 class="fw-bold text-dark mb-2">Đăng ký</h4>
                            <p class="text-muted">Tạo tài khoản mới</p>
                        </div>
                        <form id="registerForm">
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-user text-muted"></i>
                                    </span>
                                    <input type="text" class="form-control border-start-0" id="regName" placeholder="Tên của bạn" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-phone-alt text-muted"></i>
                                    </span>
                                    <input type="tel" class="form-control border-start-0" id="regPhone" placeholder="Số điện thoại" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-lock text-muted"></i>
                                    </span>
                                    <div class="position-relative flex-grow-1">
                                        <input type="password" class="form-control border-start-0 pe-5" id="regPassword" placeholder="Mật khẩu" required>
                                        <button class="btn btn-link p-0 border-0 text-muted position-absolute top-50 end-0 translate-middle-y me-2" type="button" data-toggle-password="#regPassword"><i class="far fa-eye"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text bg-light border-end-0">
                                        <i class="fas fa-envelope text-muted"></i>
                                    </span>
                                    <input type="email" class="form-control border-start-0" id="regEmail" placeholder="Email (không bắt buộc)">
                                </div>
                            </div>
                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-primary btn-lg fw-semibold" style="font-size: 1.0rem;">Đăng ký</button>
                            </div>
                            <div class="text-center">
                                <a href="#" class="text-decoration-none text-primary" id="backToLoginFromRegister">Đã có tài khoản? Đăng nhập</a>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/register.js') }}"></script>
    <script src="{{ url_for('static', filename='js/login.js') }}"></script>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/header-logic.js') }}"></script>
    <script src="{{ url_for('static', filename='js/search.js') }}"></script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>